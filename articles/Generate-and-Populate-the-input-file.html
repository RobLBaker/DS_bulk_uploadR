<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Generate and Populate the input file • DSbulkUploadR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate and Populate the input file">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">DSbulkUploadR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Generate-and-Populate-the-input-file.html">Generate and Populate the input file</a></li>
    <li><a class="dropdown-item" href="../articles/Overview.html">Overview</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nationalparkservice/DSbulkUploadR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate and Populate the input file</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/nationalparkservice/DSbulkUploadR/blob/main/vignettes/articles/Generate-and-Populate-the-input-file.Rmd" class="external-link"><code>vignettes/articles/Generate-and-Populate-the-input-file.Rmd</code></a></small>
      <div class="d-none name"><code>Generate-and-Populate-the-input-file.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>Carefully constructing and inspecting the input file is very
important. The <code><a href="../reference/bulk_reference_generation.html">bulk_reference_generation()</a></code> function will
run a series of data validation steps to make sure your input file is
properly formatted. Any errors generated during input data validation
will need to be fixed before any references are created or files are
uploaded. These validation steps are meant to help minimize inadvertent
misuse of the functions but they cannot take the place of careful human
inspection. Please make sure your input file is properly specified.</p>
<p>We strongly recommend testing (a subset of?) your input file on the
development server by setting the parameter <code>dev = TRUE</code> when
using the <code><a href="../reference/bulk_reference_generation.html">bulk_reference_generation()</a></code> function.</p>
</div>
<div class="section level2">
<h2 id="create-an-input-template">Create an input template<a class="anchor" aria-label="anchor" href="#create-an-input-template"></a>
</h2>
<p>Each DataStore reference type has a potentially unique backend
storage system and potentially unique set of possible fields. Therefore
you will need a separate input template file for each reference type you
plan to upload to DataStore.</p>
<p>To create the relevant template input file, use the function
<code><a href="../reference/make_input_template.html">make_input_template()</a></code> and pass it the the appropriate
DataStore reference type name. Currently the following reference types
are supported:</p>
<blockquote>
<p>AudioRecording</p>
</blockquote>
<p>The following line of code</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/make_input_template.html">make_input_template</a></span><span class="op">(</span><span class="st">"AudioRecording"</span><span class="op">)</span></span></code></pre></div>
<p>will write the file AudioRecording_input.txt to your current working
directory (you can customize the where the file is written to by
specifying the write_path, which defaults to the current working
directory).</p>
<p>For a full list of all available reference types on DataStore as well
as the appropriate name to use in this input.txt file, see the swagger
documentation for the <a href="https://irmaservices.nps.gov/datastore-secure/v7/documentation/datastore-secure-api.html#/Lookup%20Lists/FixedList_GetReferenceTypes" class="external-link">DataStore
ReferenceTypes API</a> and example code.</p>
</div>
<div class="section level2">
<h2 id="editing-the-input-template">Editing the input template<a class="anchor" aria-label="anchor" href="#editing-the-input-template"></a>
</h2>
<p>The input template is designed to be easy to understand and
human-readable. Yet, it will be used as computer input and so must be
crafted with some rules that may not seem intuitive. Please take care to
read these instructions when populating the input template. Do NOT
change any of the column names.</p>
<p>One suggestion is to open the .txt file in Excel and edit it in
excel. This can cause some issues with date formats, please see the
section below, “<a href="#working-with-dates">Working with
dates</a>”.</p>
<div class="section level3">
<h3 id="reference-type">Reference type<a class="anchor" aria-label="anchor" href="#reference-type"></a>
</h3>
<p>In the “reference_type” column put the reference type for the
reference to be created using the data in that particular row. Make sure
to use the DataStore back-end reference type names which may differ from
the reference type displayed on the DataStore website. Pay careful
attention to the spelling, spaces (or lack thereof) and pattern of
capitalization.</p>
</div>
<div class="section level3">
<h3 id="files-to-upload">Files to upload<a class="anchor" aria-label="anchor" href="#files-to-upload"></a>
</h3>
<p>The file_path column in the input.txt file specifies the location of
the file(s) to upload to each reference created on DataStore. This could
be a full path name starting with “C:\users” or it could be a relative
path from the current directory. You do not need to specify the file
name(s), just the path to the files. All of the files within the
specified directory will be uploaded to the reference created regardless
of file type.</p>
<p>This is one of the places you could make a fairly critical mistakes
with fairly large consequences. If for instance you set the file path to
just “C:\”, the function would attempt to upload ALL of the files on
your hard drive. please make sure your the directory you supply is as
specific as possible and contains only files that you want uploaded.</p>
<p>Each new reference should have its own file path specified. Which
means that you need to organize your files such that you have a
directory of files associated with a specific reference you intend to
create. You should have all the files associated with that reference and
nothing else in that directory.</p>
<div class="section level4">
<h4 id="checks-on-files-uploads">Checks on files uploads<a class="anchor" aria-label="anchor" href="#checks-on-files-uploads"></a>
</h4>
<p>The <code><a href="../reference/bulk_reference_generation.html">bulk_reference_generation()</a></code> function can impose some
limits on the total number and size of files to be uploaded. By default,
the function will produce a warning if you attempt to upload 250 or more
files or 50 or more GB of data at a time (not per reference but for the
entire process). The function will produce an error and fail to upload
any files if you attempt to upload 500 or more files or 100 GB or more
data at a time. These parameters are easily adjusted to suite your
needs. See the documentation on <a href="https://nationalparkservice.github.io/DSbulkUploadR/reference/bulk_reference_generation.html"><code>bulk_reference_generation</code></a></p>
<p>Additionally, before the <code><a href="../reference/bulk_reference_generation.html">bulk_reference_generation()</a></code>
function creates anything on DataStore, you will be informed of the
total number of references the function will create, the total number of
files it will upload, and the total data volume (in GB) that will be
uploaded. You will have an option to proceed or end the function if any
of these values do not look correct to you.</p>
</div>
</div>
<div class="section level3">
<h3 id="section">508<a class="anchor" aria-label="anchor" href="#section"></a>
</h3>
<p>You will need to supply information on whether the files you are
uploading to each reference are 508 compliant (“yes”) or not (“no”).
These values apply to ALL of the files in the supplied file path and
will be universally applied to all of the files uploaded to each
reference. References cannot have mixes of files some of which are 508
compliant and some of which are not. However, different references can
have different 508 compliance values associated with them.</p>
</div>
<div class="section level3">
<h3 id="reference-title">Reference title<a class="anchor" aria-label="anchor" href="#reference-title"></a>
</h3>
<p>The column title in the input.txt file should contain your Reference
Title. Each reference (line in the input.txt file) requires a unique
title. Supply the title without quotes surrounding.</p>
<p>Titles should be informative and should not include acronyms (such as
NPS units, networks, regions, divisions, etc) that may not be broadly
known outside of NPS. In general a title should seek to convey the
following information: What, when, and where. What is in the reference?
Where is the information from? When is the information from? For
instance a veg survey from ROMO 2020-2023 might have the title
“Vegetation Survey Data in Rocky Mountain National Park 2020-2023”. This
clearly conveys what will be in the reference (data on vegetation),
where the data are from (ROMO), and what dates the data span (2020-2023,
which may differ from the year it was activated/published).</p>
</div>
<div class="section level3">
<h3 id="working-with-dates">Working with dates<a class="anchor" aria-label="anchor" href="#working-with-dates"></a>
</h3>
<p>To prevent excel from automatically changing your dates into a
non-ISO 8601 format (yyyy-mm-dd), you need to change some global
settings on your computer. For PCs search for “date and time format”
from the start menu. Select “Change the date and time format” (which is
part of the system settings). In the panel “Short Date” choose the date
formatted as YYYY-MM-DD.</p>
<div class="section level4">
<h4 id="content-begin-date">Content begin date<a class="anchor" aria-label="anchor" href="#content-begin-date"></a>
</h4>
<p>The column content_begin_date in the input.txt file should contain
the date that the content of the reference/files starts in ISO 8601
format: YYYY-MM-DD. Other formats are not accepted. The content begin
date should be before today’s date and before the content_end_date.</p>
</div>
<div class="section level4">
<h4 id="content-end-date">Content end date<a class="anchor" aria-label="anchor" href="#content-end-date"></a>
</h4>
<p>The column content_end_date in the input.txt file should contain the
date that the content of the reference/files ends in ISO 8601 format:
YYYY-MM-DD. Other formats are not accepted. The content end date should
be before today’s date and after the content_start_date.</p>
</div>
</div>
<div class="section level3">
<h3 id="length-of-recording">Length of recording<a class="anchor" aria-label="anchor" href="#length-of-recording"></a>
</h3>
<p>The length_of_recording column in the input.txt file should contain a
string of characters describing the duration of the content. For
instance, the length_of_recording value may be “5 hours six minutes and
32 sec” (without quotes). This value will be directly used and not
parsed into any specific format.</p>
<p>If the reference type does not have a recording length, leave this
value blank.</p>
<p>The following reference types require a length_of_recording
value:</p>
<blockquote>
<p>AudioRecording</p>
</blockquote>
<p>The following reference types should have length_of_recording left
blank:</p>
<blockquote>
<p>Everything else?</p>
</blockquote>
</div>
<div class="section level3">
<h3 id="description">Description<a class="anchor" aria-label="anchor" href="#description"></a>
</h3>
<p>The description column in the input.txt file should contain a brief
description or abstract for the reference. Generally these abstracts
should be less than 250 words and briefly explain the why, what, when,
where, and how of the information contained in the reference. Please do
not include quotations or special characters.</p>
</div>
<div class="section level3">
<h3 id="purpose">Purpose<a class="anchor" aria-label="anchor" href="#purpose"></a>
</h3>
<p>The purpose column in the input.txt file should contain a brief
description of the purpose of the reference. The purpose may be
identical to the description or may be different.</p>
</div>
<div class="section level3">
<h3 id="notes">Notes<a class="anchor" aria-label="anchor" href="#notes"></a>
</h3>
<p>The notes column in the input.txt file should contain any notes that
may be important for understanding the reference.</p>
</div>
<div class="section level3">
<h3 id="author-email-addresses">Author email addresses<a class="anchor" aria-label="anchor" href="#author-email-addresses"></a>
</h3>
<p>The author_email_list column in input.txt should contain a
comma-separated list of all the author’s email addresses. Use full email
addresses rather than user names (e.g. <a href="mailto:first_last@nps.gov" class="email">first_last@nps.gov</a>
not <a href="mailto:FMLast@nps.gov" class="email">FMLast@nps.gov</a>).
All references require at least one author. Do not include extra text
(no quotations, angle brackets, etc).</p>
<p>All authors must by valid NPS employees or partners (e.g. <span class="citation">@nps.gov</span>, <span class="citation">@partner.nps.gov</span>). All authors must have
registered an ORCiD and added the ORCiD to active directory/Entra ID.
The ORCiD in Active Directory/Entra ID must have the format
xxxx-xxxx-xxxx-xxxx.</p>
<p><a href="https://info.orcid.org/what-is-orcid/" class="external-link">Open Researcher and
Contributor ID (ORCiD)</a> is a third-party persistent digital
identifier associated with individuals rather than institutions or
documents. ORCiDs are required for authors by the <a href="https://irma.nps.gov/DataStore/DownloadFile/717695" class="external-link">NPS Open
Access Plan</a> for all authors of all scholarly and scientific work.
You can learn more about ORCiDs, how register them, add them to Active
Directory/Entra ID, control the automated information flowing to your
ORCiD profile and what information orcid.org displays about you on the
<a href="https://doimspp.sharepoint.com/sites/nps-nrss-imdiv/data-publication/SitePages/Reserve-a-DOI.aspx#personal-digital-identifiers-%28orcids%29" class="external-link">NPS
Data Publication Best Practices SharePoint site page on Persistent
Identifiers</a> including ORCiDs.</p>
<p>The <code><a href="../reference/bulk_reference_generation.html">bulk_reference_generation()</a></code> function will
automatically extract first name, last name, and ORCiDs based on the
supplied email addresses and use that information to populate the
authors of the reference.</p>
</div>
<div class="section level3">
<h3 id="licenses">Licenses<a class="anchor" aria-label="anchor" href="#licenses"></a>
</h3>
<p>The license_code column in input.txt should contain a numeric code
(1,2,3,4 or 5) corresponding to a license for the reference on
DataStore. A Creative Commons Zero (CC0) license is the preferred
license for all public content on DataStore. Valid codes are as
follows:</p>
<blockquote>
<p>1: <a href="https://creativecommons.org/public-domain/cc0/" class="external-link">“Creative
Commons Zero v1.0 Universal (CC0)”</a>. This is the preferred license
for all public content. 2: <a href="https://choosealicense.com/licenses/cc-by-4.0/" class="external-link">“Creative Commons
Attribution 4.0 International”</a> (CC-by-4.0) 3: <a href="https://www.creativecommons.org/licenses/by-nc/4.0/deed.en" class="external-link">“Creative
commons Attribution Non Commercial 4.0 International”</a> (CC BY-NC 4.0)
(This license may be useful when working with partners external to NPS),
4: <a href="https://en.wikipedia.org/wiki/Public_domain" class="external-link">“Public
Domain”</a>, 5: “Unlicensed (not for public dissemination)” (should only
be used for restricted content that contains confidential unclassified
information - CUI). If all license codes supplied (as integers ranging
from 1-5) are valid, the function passes.</p>
</blockquote>
</div>
<div class="section level3">
<h3 id="producing-units">Producing Unit(s)<a class="anchor" aria-label="anchor" href="#producing-units"></a>
</h3>
<p>The column producing_unit in the input.txt file should contain a
comma-separated list of acronyms for the NPS units that contributed to
producing the reference or its content. For instance, an IMD network or
region might be responsible for creating a reference or its content
(e.g. IMR or ROMN). These must be valid NPS unit acronyms, e.g. ROMO not
RMNP for Rocky Mountain National Park or IMD for the Inventory and
Monitoring Division (not IM&amp;D).</p>
</div>
<div class="section level3">
<h3 id="content-units">Content Unit(s)<a class="anchor" aria-label="anchor" href="#content-units"></a>
</h3>
<p>The column content_units in the input.txt file should contain a
comma-separated list of acronyms for the NPS unit(s) where the
information in the reference was collected or generated. This should be
specific park units that have physical geographies and not
organizational units. For instance, YELL (for Yellowstone) and/or GRTE
(Grand Teton National Park) but <em>not</em> GRYN (Greater Yellowstone
Network), IMD (Inventory and Monitoring Division), NRSS (Natural
Resources Science and Stewardship Directorate), etc.</p>
</div>
<div class="section level3">
<h3 id="keywords">Keywords<a class="anchor" aria-label="anchor" href="#keywords"></a>
</h3>
<p>The keywords column in the input.txt file should contain a
comma-separated list of keywords to be added to the reference.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Robert Baker.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
